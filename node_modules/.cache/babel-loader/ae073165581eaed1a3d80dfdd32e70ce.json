{"ast":null,"code":"import*as ActionTypes from'./ActionTypes';import{baseUrl}from'../shared/baseUrl';export var addComment=function addComment(comment){return{type:ActionTypes.ADD_COMMENT,payload:comment};};export var postComment=function postComment(dishId,rating,author,comment){return function(dispatch){var newComment={dishId:dishId,rating:rating,author:author,comment:comment};newComment.date=new Date().toISOString();return fetch(baseUrl+'comments',{method:\"POST\",body:JSON.stringify(newComment),headers:{\"Content-Type\":\"application/json\"},credentials:\"same-origin\"}).then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){throw error;}).then(function(response){return response.json();}).then(function(response){return dispatch(addComment(response));}).catch(function(error){console.log('post comments',error.message);alert('Your comment could not be posted\\nError: '+error.message);});};};export var fetchDishes=function fetchDishes(){return function(dispatch){dispatch(dishesLoading(true));return fetch(baseUrl+'dishes').then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(dishes){return dispatch(addDishes(dishes));}).catch(function(error){return dispatch(dishesFailed(error.message));});};};export var dishesLoading=function dishesLoading(){return{type:ActionTypes.DISHES_LOADING};};export var dishesFailed=function dishesFailed(errmess){return{type:ActionTypes.DISHES_FAILED,payload:errmess};};export var addDishes=function addDishes(dishes){return{type:ActionTypes.ADD_DISHES,payload:dishes};};export var fetchComments=function fetchComments(){return function(dispatch){return fetch(baseUrl+'comments').then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(comments){return dispatch(addComments(comments));}).catch(function(error){return dispatch(commentsFailed(error.message));});};};export var commentsFailed=function commentsFailed(errmess){return{type:ActionTypes.COMMENTS_FAILED,payload:errmess};};export var addComments=function addComments(comments){return{type:ActionTypes.ADD_COMMENTS,payload:comments};};export var fetchPromos=function fetchPromos(){return function(dispatch){dispatch(promosLoading());return fetch(baseUrl+'promotions').then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(promos){return dispatch(addPromos(promos));}).catch(function(error){return dispatch(promosFailed(error.message));});};};export var promosLoading=function promosLoading(){return{type:ActionTypes.PROMOS_LOADING};};export var promosFailed=function promosFailed(errmess){return{type:ActionTypes.PROMOS_FAILED,payload:errmess};};export var addPromos=function addPromos(promos){return{type:ActionTypes.ADD_PROMOS,payload:promos};};export var addLeaders=function addLeaders(promos){return{type:ActionTypes.ADD_LEADERS,payload:promos};};export var fetchLeaders=function fetchLeaders(){return function(dispatch){dispatch(leadersLoading(true));return fetch(baseUrl+'leaders').then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(leaders){return dispatch(addLeaders(leaders));}).catch(function(error){return dispatch(leadersFailed(error.message));});};};export var leadersLoading=function leadersLoading(){return{type:ActionTypes.LEADERS_LOADING};};export var leadersFailed=function leadersFailed(errmess){return{type:ActionTypes.LEADERS_FAILED,payload:errmess};};export var addFeedback=function addFeedback(feedback){return{type:ActionTypes.ADD_FEEDBACK,payload:feedback};};export var postFeedback=function postFeedback(firstname,lastname,telnum,email,agree,contactType,message){return function(dispatch){var newFeedback={firstname:firstname,lastname:lastname,telnum:telnum,email:email,agree:agree,contactType:contactType,message:message};newFeedback.date=new Date().toISOString();return fetch(baseUrl+'feedback',{method:\"POST\",body:JSON.stringify(newFeedback),headers:{\"Content-Type\":\"application/json\"},credentials:\"same-origin\"}).then(function(response){if(response.ok){alert(JSON.stringify(response));return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){throw error;}).then(function(response){return alert('Thank you for your feedback!\\n'+JSON.stringify(response));}).then(function(response){return dispatch(addFeedback(response));}).catch(function(error){console.log('post feedback',error.message);alert('Your feedback could not be posted\\nError: '+error.message);});};};","map":{"version":3,"sources":["/home/rupali/projects/restainfo/src/redux/ActionCreators.js"],"names":["ActionTypes","baseUrl","addComment","comment","type","ADD_COMMENT","payload","postComment","dishId","rating","author","dispatch","newComment","date","Date","toISOString","fetch","method","body","JSON","stringify","headers","credentials","then","response","ok","error","Error","status","statusText","json","catch","console","log","message","alert","fetchDishes","dishesLoading","errmess","dishes","addDishes","dishesFailed","DISHES_LOADING","DISHES_FAILED","ADD_DISHES","fetchComments","comments","addComments","commentsFailed","COMMENTS_FAILED","ADD_COMMENTS","fetchPromos","promosLoading","promos","addPromos","promosFailed","PROMOS_LOADING","PROMOS_FAILED","ADD_PROMOS","addLeaders","ADD_LEADERS","fetchLeaders","leadersLoading","leaders","leadersFailed","LEADERS_LOADING","LEADERS_FAILED","addFeedback","feedback","ADD_FEEDBACK","postFeedback","firstname","lastname","telnum","email","agree","contactType","newFeedback"],"mappings":"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","sourcesContent":["\nimport * as ActionTypes from './ActionTypes';\nimport { baseUrl } from '../shared/baseUrl';\n\nexport const addComment = (comment) => ({\n  type: ActionTypes.ADD_COMMENT,\n  payload: comment\n});\n\nexport const postComment = (dishId, rating, author, comment) => (dispatch) => {\n\n  const newComment = {\n    dishId: dishId,\n    rating: rating,\n    author: author,\n    comment: comment\n  };\n  newComment.date = new Date().toISOString();\n\n  return fetch(baseUrl + 'comments', {\n    method: \"POST\",\n    body: JSON.stringify(newComment),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    credentials: \"same-origin\"\n  })\n    .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n      error => {\n        throw error;\n      })\n    .then(response => response.json())\n    .then(response => dispatch(addComment(response)))\n    .catch(error => { console.log('post comments', error.message); alert('Your comment could not be posted\\nError: ' + error.message); });\n};\n\nexport const fetchDishes = () => (dispatch) => {\n\n  dispatch(dishesLoading(true));\n\n  return fetch(baseUrl + 'dishes')\n    .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n      error => {\n        var errmess = new Error(error.message);\n        throw errmess;\n      })\n    .then(response => response.json())\n    .then(dishes => dispatch(addDishes(dishes)))\n    .catch(error => dispatch(dishesFailed(error.message)));\n}\n\nexport const dishesLoading = () => ({\n  type: ActionTypes.DISHES_LOADING\n});\n\nexport const dishesFailed = (errmess) => ({\n  type: ActionTypes.DISHES_FAILED,\n  payload: errmess\n});\n\nexport const addDishes = (dishes) => ({\n  type: ActionTypes.ADD_DISHES,\n  payload: dishes\n});\n\n\nexport const fetchComments = () => (dispatch) => {\n  return fetch(baseUrl + 'comments')\n    .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n      error => {\n        var errmess = new Error(error.message);\n        throw errmess;\n      })\n    .then(response => response.json())\n    .then(comments => dispatch(addComments(comments)))\n    .catch(error => dispatch(commentsFailed(error.message)));\n};\n\nexport const commentsFailed = (errmess) => ({\n  type: ActionTypes.COMMENTS_FAILED,\n  payload: errmess\n});\n\nexport const addComments = (comments) => ({\n  type: ActionTypes.ADD_COMMENTS,\n  payload: comments\n});\n\nexport const fetchPromos = () => (dispatch) => {\n\n  dispatch(promosLoading());\n\n  return fetch(baseUrl + 'promotions')\n    .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n      error => {\n        var errmess = new Error(error.message);\n        throw errmess;\n      })\n    .then(response => response.json())\n    .then(promos => dispatch(addPromos(promos)))\n    .catch(error => dispatch(promosFailed(error.message)));\n}\n\nexport const promosLoading = () => ({\n  type: ActionTypes.PROMOS_LOADING\n});\n\nexport const promosFailed = (errmess) => ({\n  type: ActionTypes.PROMOS_FAILED,\n  payload: errmess\n});\n\nexport const addPromos = (promos) => ({\n  type: ActionTypes.ADD_PROMOS,\n  payload: promos\n});\n\nexport const addLeaders = (promos) => ({\n  type: ActionTypes.ADD_LEADERS,\n  payload: promos\n});\n\nexport const fetchLeaders = () => (dispatch) => {\n\n  dispatch(leadersLoading(true));\n\n  return fetch(baseUrl + 'leaders')\n    .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n      error => {\n        var errmess = new Error(error.message);\n        throw errmess;\n      })\n    .then(response => response.json())\n    .then(leaders => dispatch(addLeaders(leaders)))\n    .catch(error => dispatch(leadersFailed(error.message)));\n};\n\nexport const leadersLoading = () => ({\n  type: ActionTypes.LEADERS_LOADING\n});\n\nexport const leadersFailed = (errmess) => ({\n  type: ActionTypes.LEADERS_FAILED,\n  payload: errmess\n});\n\nexport const addFeedback = (feedback) => ({\n  type: ActionTypes.ADD_FEEDBACK,\n  payload: feedback\n});\n\nexport const postFeedback = (firstname, lastname, telnum, email, agree, contactType, message) => (dispatch) => {\n\n  const newFeedback = {\n    firstname: firstname,\n    lastname: lastname,\n    telnum: telnum,\n    email: email,\n    agree: agree,\n    contactType: contactType,\n    message: message\n  };\n  newFeedback.date = new Date().toISOString();\n\n  return fetch(baseUrl + 'feedback', {\n    method: \"POST\",\n    body: JSON.stringify(newFeedback),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    credentials: \"same-origin\"\n  })\n    .then(response => {\n      if (response.ok) {\n        alert(JSON.stringify(response));\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n      error => {\n        throw error;\n      })\n    .then(response => alert('Thank you for your feedback!\\n' + JSON.stringify(response)))\n    .then(response => dispatch(addFeedback(response)))\n    .catch(error => { console.log('post feedback', error.message); alert('Your feedback could not be posted\\nError: ' + error.message); });\n};"]},"metadata":{},"sourceType":"module"}